---
import MainLayout from "../../layouts/MainLayout.astro";
import { Image } from "@astrojs/image/components";

export async function getStaticPaths() {
  const posts = await Astro.glob("../../contents/blog/*.md");

  return posts.map((post) => ({
    params: {
      slug: post.frontmatter.slug,
    },
    props: {
      post: post,
      data: post.frontmatter,
    },
  }));
}

const { Content } = Astro.props.post;
const { title, description,image } = Astro.props.data;
---

<MainLayout title={`Blogs - ${title}`} description={description}>
  <article
    class="antialiased prose lg:prose-xl mx-auto px-4 max-w-screen-xl mt-20"
  >
    <Image
      class="w-full h-80 border border-black"
      alt="bg_blog_image"
      width={1020}
      height={500}
      format={"avif"}
      fit={"cover"}
      src={image}
    />
    <Content />
  </article>
</MainLayout>
